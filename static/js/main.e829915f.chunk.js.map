{"version":3,"sources":["Side.js","Plots.js","Chips.js","usePosition.js","HtmlMarker.js","MyLocation.js","Map.js","Line.js","Marker.js","Projection.js","MapTrace.js","Stations.js","ListFlights.js","App.js","Home.js","LiveMap.js","Main.js","index.js"],"names":["Side","title","viewportWidth","viewportHeight","handleClose","children","style","position","width","height","overflowY","boxShadow","paddingRight","backgroundColor","Box","display","justifyContent","p","Typography","variant","gutterBottom","IconButton","onClick","highlight","timestamp","Highcharts","charts","forEach","chart","series","points","point","x","onMouseOver","handleHover","e","event","pointer","normalize","searchPoint","syncExtremes","thisChart","this","trigger","xAxis","setExtremes","min","max","undefined","Point","prototype","Pointer","reset","toMilliseconds","Plots","data","styles","index","callbackIndex","utcOffset","zippedData","Object","assign","map","id","time","i","scaling","useState","myIndex","setMyIndex","altitude","length","myMaxIndex","setMyMaxIndex","setTimestamp","optionsCounter","setOptionsCounter","valueSuffix","valueDecimals","color","callbackHover","credits","zoomType","marginLeft","spacingTop","spacingBottom","text","align","margin","type","events","yAxis","gridLineWidth","lineWidth","tickWidth","legend","enabled","plotOptions","area","marker","radius","states","hover","threshold","tooltip","positioner","chartWidth","label","y","formatter","toFixed","borderWidth","pointFormat","headerFormat","shadow","fontSize","fillOpacity","timezoneOffset","getOptions","options","setOptions","useEffect","tmpIndex","indexOf","fromMilliseconds","onMouseMove","onTouchMove","onTouchStart","option","highcharts","Chips","speed","heading","climb","right","bottom","pointerEvents","flexDirection","flexWrap","alignContent","Paper","textAlign","mx","pt","minWidth","moment","format","usePosition","setPosition","error","setError","onChange","coords","latitude","longitude","onError","message","geo","navigator","geolocation","watcher","watchPosition","enableHighAccuracy","clearWatch","HtmlMarker","ref","useRef","setMarker","mapboxgl","Marker","element","current","setLngLat","addTo","MyLocation","locateMeCounter","myLocateMeCounter","setMyLocateMeCounter","setCenter","setZoom","c","Map","centerLongitude","centerLatitude","shareMap","zoom","setMap","mapContainerRef","showMyLocation","setShowMyLocation","setLocateMeCounter","container","myBestStyle","center","attributionControl","scale","ScaleControl","maxWidth","unit","addControl","dragRotate","disable","touchZoomRotate","disableRotation","on","getZoom","resize","overflow","top","padding","Tooltip","placement","Link","href","buildName","name","Line","opacity","dashed","visible","behindMarker","ready","setReady","addSource","dashProperty","addLayer","lngLat","lng","lat","markerLayer","getLayer","moveLayer","getSource","setData","slice","setLayoutProperty","onDrag","imagePath","clickText","displaySnackbar","setDisplaySnackbar","loadImage","err","image","addImage","canvas","getCanvasContainer","onMove","cursor","onUp","off","preventDefault","once","Snackbar","open","autoHideDuration","onClose","reason","anchorOrigin","vertical","horizontal","endBearingDistance","lonLatStart","bearing","distance","d","brng","Math","PI","φ1","λ1","R","latEnd","asin","sin","cos","atan2","Projection","times","labels","value","toString","MapTrace","historyVisible","loading","dragPoint","setDragPoint","distances","findClosest","buildGeojson","temperature","windDirection","windSpeed","gustSpeed","properties","geometry","coordinates","Stations","Date","now","renderedFeatures","setRenderedFeatures","loadedIds","setLoadedIds","handleFeatures","features","queryRenderedFeatures","layers","setInterval","newIds","feature","includes","Promise","resolve","reject","axios","get","then","res","Number","catch","getStation","source","layout","paint","minzoom","console","log","push","ListItemLink","props","ListItem","button","component","ListFlights","dataUrl","username","useParams","flights","setFlights","sort","a","b","flight_id","Skeleton","flight","ListItemText","start","App","flightId","window","innerHeight","setViewportHeight","innerWidth","setViewportWidth","setNow","setIndex","displayPlots","setDisplayPlots","displayListFlights","setDisplayListFlights","nowIntervalId","setNowIntervalId","setLoading","snackbarMessage","setSnackbarMessage","informUser","fuzzy","timespace","getFuzzyLocalTimeFromPoint","handleResize","document","getElementById","clientWidth","addEventListener","removeEventListener","url","dataIn","removeNulls","values","alternative","result","next","find","v","reverse","every","_","getInitialData","interval","getNow","clearInterval","unixtime","replaceNull","field","lengthBefore","left","alignItems","CircularProgress","size","m","Backdrop","zIndex","Paragraph","px","py","Caption","pb","Subtitle","Body","src","alt","borderRadius","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","Home","Container","LiveMap","Main","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.e829915f.chunk.js","sourcesContent":["import Box from '@material-ui/core/Box'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\nimport Typography from '@material-ui/core/Typography'\n\nimport './Side.css'\n\nconst Side = ({\n    title,\n    viewportWidth,\n    viewportHeight,\n    handleClose,\n    children\n}) => {\n    return (\n        <div>\n            <div\n                style={{\n                    position: 'absolute',\n                    width: (viewportWidth > 355 ? 350 : (viewportWidth - 5)),\n                    height: viewportHeight,\n                    overflowY: 'auto',\n                    boxShadow: '5px 0 10px #AAAAAA',\n                    paddingRight: 5,\n                    backgroundColor: 'white'\n                }}\n            >\n                <Box display=\"flex\" justifyContent=\"space-between\">\n                    <Box p={1}>\n                        <Typography variant=\"h4\" gutterBottom>\n                            {title}\n                        </Typography>\n                    </Box>\n                    <Box>\n                        <IconButton onClick={handleClose}>\n                            <CloseIcon />\n                        </IconButton>\n                    </Box>\n                    \n                </Box>\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default Side","import { useState, useEffect } from 'react'\n\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official'\n\nimport Side from './Side'\n\nconst highlight = timestamp => {\n    Highcharts.charts.forEach(chart => {\n        if (chart && chart.series[0] && chart.series[0].points) {\n            chart.series[0].points.forEach(point => {\n                if (point.x === timestamp) {\n                    point.onMouseOver()\n                }\n            })\n        }\n    })\n}\n\nconst handleHover = e => {\n    Highcharts.charts.forEach(chart => {\n        if (chart) {\n            const event = chart.pointer.normalize(e)\n            const point = chart.series[0].searchPoint(event, true)\n            if (point) {\n                point.highlight(e)\n            }\n        }\n    })\n}\n\nHighcharts.Point.prototype.highlight = function (event) {\n    event = this.series.chart.pointer.normalize(event)\n    this.onMouseOver()\n}\n\nHighcharts.Pointer.prototype.reset = () => undefined\n\nfunction syncExtremes(e) {\n    const thisChart = this.chart\n    if (e.trigger !== 'syncExtremes') { // Prevent feedback loop\n        Highcharts.charts.forEach(chart => {\n            if (chart && chart !== thisChart) {\n                if (chart.xAxis[0].setExtremes) { // It is null while updating\n                    chart.xAxis[0].setExtremes(\n                        e.min,\n                        e.max,\n                        undefined,\n                        false,\n                        { trigger: 'syncExtremes' }\n                    )\n                }\n            }\n        })\n    }\n}\n\nconst getOptions = (\n    data,\n    title,\n    valueSuffix,\n    valueDecimals,\n    color,\n    callbackHover,\n    utcOffset\n) => {\n    return {\n        credits: false,\n        chart: {\n            zoomType: 'x',\n            marginLeft: 50,\n            height: 250,\n            width: null,\n            spacingTop: 20,\n            spacingBottom: 20\n        },\n        title: {\n            text: title,\n            align: 'left',\n            margin: 0,\n            x: 50\n        },\n        xAxis: {\n            type: 'datetime',\n            events: {\n                setExtremes: syncExtremes\n            }\n        },\n        yAxis: {\n            gridLineWidth: null,\n            lineWidth: 1,\n            tickWidth: 1,\n            title: null\n        },\n        legend: {\n            enabled: false\n        },\n        plotOptions: {\n            area: {\n                marker: {\n                    radius: 0\n                },\n                lineWidth: 1,\n                states: {\n                    hover: {\n                        lineWidth: 1\n                    }\n                },\n                threshold: null\n            }\n        },\n        tooltip: {\n            positioner: function () {\n                return {\n                    x: this.chart.chartWidth - this.label.width - 5,\n                    y: 10\n                };\n            },\n            formatter: function () {\n                callbackHover(this.x)\n                return this.y.toFixed(valueDecimals) + valueSuffix\n            },\n            borderWidth: 0,\n            backgroundColor: 'none',\n            pointFormat: '{point.y}',\n            headerFormat: '',\n            shadow: false,\n            style: {\n                fontSize: '18px'\n            }\n        },\n        series: [{\n            type: 'area',\n            data: data,\n            color: color,\n            fillOpacity: 0.1\n        }],\n        time: {\n            timezoneOffset: -utcOffset\n        }\n    }\n}\n\nconst toMilliseconds = timestamp => 1000.0 * timestamp\nconst fromMilliseconds = timestamp => timestamp / 1000.0\n\nconst Plots = ({\n    handleClose,\n    viewportHeight,\n    viewportWidth,\n    data,\n    styles,\n    index,\n    callbackIndex,\n    utcOffset\n}) => {\n\n    const zippedData = Object.assign({}, ...styles.map(x => {\n        return ({\n            [x.id]: data.time.map((time, i) => [toMilliseconds(time), x.scaling * data[x.id][i]])\n        })\n    }))\n\n    const [myIndex, setMyIndex] = useState(index)\n    const [myMaxIndex, setMyMaxIndex] = useState(data.altitude.length - 1)\n\n    const [timestamp, setTimestamp] = useState(null)\n\n    const [optionsCounter, setOptionsCounter] = useState(0)\n\n    const [options, setOptions] = useState(\n        styles.map(style => {\n            return getOptions(\n                zippedData[style.id],\n                style.title,\n                style.valueSuffix,\n                style.valueDecimals,\n                style.color,\n                setTimestamp,\n                utcOffset\n            )\n        })\n    )\n\n    useEffect(() => {\n        const tmpIndex = data.time.indexOf(fromMilliseconds(timestamp))\n        if (tmpIndex > -1 && tmpIndex !== myIndex) {\n            callbackIndex(tmpIndex)\n            setMyIndex(tmpIndex)\n        }\n    }, [timestamp])\n\n    useEffect(() => {\n        if (myIndex !== index) {\n            setMyIndex(index)\n            highlight(toMilliseconds(data.time[index]))\n        }\n    }, [index])\n\n    useEffect(() => {\n        if (index === data.altitude.length - 1 || myIndex === myMaxIndex) {\n            setOptions(styles.map(style => ({\n                series: {\n                    data: zippedData[style.id]\n                }\n            })))\n            setOptionsCounter(optionsCounter => optionsCounter + 1)\n            setMyMaxIndex(data.altitude.length - 1)\n            callbackIndex(data.altitude.length - 1)\n        }\n    }, [data])\n\n    useEffect(() => {\n        highlight(toMilliseconds(data.time[index]))\n    }, [optionsCounter])\n\n    return (\n        <Side\n            title=\"Plots\"\n            viewportWidth={viewportWidth}\n            viewportHeight={viewportHeight}\n            handleClose={handleClose}\n        >\n            <div\n                onMouseMove={handleHover}\n                onTouchMove={handleHover}\n                onTouchStart={handleHover}\n            >\n                {\n                    options.map((option, i) => {\n                        return <HighchartsReact\n                            highcharts={Highcharts}\n                            options={option}\n                            key={i}\n                        />\n                    })\n                }\n            </div>\n        </Side>\n    )\n}\n\nexport default Plots","import React from 'react'\n\nimport moment from 'moment'\n\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\n\nconst Chips = ({speed, heading, altitude, climb, time, utcOffset}) => {\n    return (\n        <div style={{\n            position: 'absolute',\n            right: 10,\n            bottom: 10,\n            pointerEvents: 'none'\n        }}>\n            <Box \n                flexDirection=\"row\" \n                display=\"flex\" \n                flexWrap=\"wrap-reverse\" \n                justifyContent=\"flex-end\" \n                alignContent=\"center\"\n            >\n                <Box p={1}>\n                    <Paper>\n                        <Box textAlign=\"center\" mx={1} pt={0.5} style={{minWidth: '9ch'}}>\n                            {(3.6 * speed).toFixed(1)} km/h\n                        </Box>\n                        <Box textAlign=\"center\" mx={1}>\n                            <Typography variant=\"overline\">SPEED</Typography>\n                        </Box>\n                    </Paper>\n                </Box>\n                <Box p={1}>\n                    <Paper>\n                        <Box textAlign=\"center\" mx={1} pt={0.5}>\n                            {heading.toFixed(0)}°\n                        </Box>\n                        <Box textAlign=\"center\" mx={1}>\n                            <Typography variant=\"overline\">HEADING</Typography>\n                        </Box>\n                    </Paper>\n                </Box>\n                <Box p={1}>\n                    <Paper>\n                        <Box textAlign=\"center\" mx={1} pt={0.5}>\n                            {altitude.toFixed(0)} m\n                        </Box>\n                        <Box textAlign=\"center\" mx={1}>\n                            <Typography variant=\"overline\">ALTITUDE</Typography>\n                        </Box>\n                    </Paper>\n                </Box>\n                <Box p={1}>\n                    <Paper>\n                        <Box textAlign=\"center\" mx={1} pt={0.5} style={{minWidth: '7ch'}}>\n                            {climb.toFixed(1)} m/s\n                        </Box>\n                        <Box textAlign=\"center\" mx={1}>\n                            <Typography variant=\"overline\">CLIMB</Typography>\n                        </Box>\n                    </Paper>\n                </Box>\n                <Box p={1}>\n                    <Paper>\n                        <Box textAlign=\"center\" mx={1} pt={0.5} style={{minWidth: '7ch'}}>\n                            {moment(time * 1000).utcOffset(utcOffset).format('HH:mm')}\n                        </Box>\n                        <Box textAlign=\"center\" mx={1}>\n                            <Typography variant=\"overline\">TIME</Typography>\n                        </Box>\n                    </Paper>\n                </Box>\n            </Box>\n        </div>\n    )\n}\n\nexport default Chips","// thanks to Oleksii Trekhleb\n// https://itnext.io/creating-react-useposition-hook-for-getting-browsers-geolocation-2f27fc1d96de\n\nimport { useState, useEffect } from 'react'\n\nconst usePosition = () => {\n    const [position, setPosition] = useState({})\n\n    const [error, setError] = useState(null)\n\n    const onChange = ({ coords }) => {\n        setPosition({\n            latitude: coords.latitude,\n            longitude: coords.longitude,\n        })\n    }\n    \n    const onError = (error) => {\n        setError(error.message)\n    }\n    \n    useEffect(() => {\n        const geo = navigator.geolocation\n        if (!geo) {\n            setError('Geolocation is not supported')\n            return\n        } \n        const watcher = geo.watchPosition(onChange, onError, { enableHighAccuracy: true })\n        return () => geo.clearWatch(watcher)\n    }, [])\n    \n    return { ...position, error }\n}\n\nexport default usePosition","import { useState, useRef, useEffect } from 'react'\n\nimport mapboxgl from 'mapbox-gl'\n\nconst HtmlMarker = ({\n    map,\n    longitude,\n    latitude,\n    children\n}) => {\n\n    const ref = useRef(null)\n    const [marker, setMarker] = useState(null)\n\n    useEffect(() => {\n        if (map) {\n            const marker = new mapboxgl.Marker({\n                element: ref.current\n            })\n                .setLngLat([longitude, latitude])\n                .addTo(map)\n            setMarker(marker)\n        }\n    }, [map])\n\n    useEffect(() => {\n        if (marker) {\n            marker.setLngLat([longitude, latitude])\n        }\n    }, [longitude, latitude])\n\n    return (\n        <div ref={ref}>\n            { children }\n        </div>\n    )\n}\n\nexport default HtmlMarker","import { useEffect, useState } from 'react'\n\nimport MyLocationIcon from '@material-ui/icons/MyLocation'\n\nimport usePosition from './usePosition'\nimport HtmlMarker from './HtmlMarker'\n\nconst MyLocation = ({\n    map,\n    locateMeCounter\n}) => {\n    const position = usePosition()\n    const [myLocateMeCounter, setMyLocateMeCounter] = useState(0)\n\n    const latitude = position.latitude ? position.latitude : 0.0\n    const longitude = position.longitude ? position.longitude : 0.0\n\n    useEffect(() => {\n        if (map && position.longitude && myLocateMeCounter < locateMeCounter) {\n            map.setCenter([longitude, latitude])\n            map.setZoom(16)\n            setMyLocateMeCounter(c => c + 1)\n        }\n    }, [locateMeCounter, map, position.longitude])\n\n    return (\n        <HtmlMarker \n            map={map}\n            longitude={longitude}\n            latitude={latitude}\n        >\n            <MyLocationIcon style={{ color: '#ac1a65' }}/>\n        </HtmlMarker>\n    )\n}\n\nexport default MyLocation\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport mapboxgl from 'mapbox-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nimport { IconButton, Typography } from '@material-ui/core'\nimport MyLocationIcon from '@material-ui/icons/MyLocation'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport Box from '@material-ui/core/Box'\nimport Link from '@material-ui/core/Link'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport MyLocation from './MyLocation'\n\nimport myBestStyle from './style-swisstopo-ballometer.json'\n\nconst Map = ({\n    viewportWidth,\n    viewportHeight,\n    centerLongitude,\n    centerLatitude,\n    shareMap,\n}) => {\n\n    const [zoom, setZoom] = useState(6)\n    const [map, setMap] = useState(null)\n    const mapContainerRef = useRef(null)\n    const [showMyLocation, setShowMyLocation] = useState(false)\n    const [locateMeCounter, setLocateMeCounter] = useState(0)\n\n    const zoomIn = () => {\n        if (map) {\n            map.setZoom(zoom + 1)\n            setZoom(zoom + 1)\n        }\n    }\n\n    const zoomOut = () => {\n        if (map) {\n            map.setZoom(zoom - 1)\n            setZoom(zoom - 1)\n        }\n    }\n\n    const locateMe = () => {\n        if (!showMyLocation) {\n            setShowMyLocation(true)\n        }\n        setLocateMeCounter(c => c + 1)\n    }\n\n    useEffect(() => {\n        const map = new mapboxgl.Map({\n            container: mapContainerRef.current,\n            style: myBestStyle,\n            center: [centerLongitude, centerLatitude],\n            zoom: zoom,\n            attributionControl: false\n        })\n\n        const scale = new mapboxgl.ScaleControl({\n            maxWidth: 80,\n            unit: 'metric'\n        })\n        map.addControl(scale)\n\n        map.dragRotate.disable()\n        map.touchZoomRotate.disableRotation()\n\n        map.on('move', () => {\n            setZoom(map.getZoom())\n        })\n\n        map.on('load', () => {\n            map.resize()\n        })\n\n        setMap(map)\n        shareMap(map)\n    }, [])\n\n    useEffect(() => {\n        if (map) {\n            map.resize()\n        }\n    }, [viewportWidth, viewportHeight])\n\n    return (\n        <div>\n            <div\n                ref={mapContainerRef}\n                style={{\n                    position: 'absolute',\n                    width: (viewportWidth - 1),\n                    height: (viewportHeight - 1),\n                    overflow: 'hidden'\n                }}\n            />\n\n            <div style={{\n                position: 'absolute',\n                right: 0,\n                top: 0,\n                padding: 10\n            }}>\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Tooltip title=\"Zoom In\" placement=\"left\">\n                        <IconButton onClick={zoomIn}>\n                            <AddIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"Zoom Out\" placement=\"left\">\n                        <IconButton onClick={zoomOut}>\n                            <RemoveIcon />\n                        </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"Locate Me\" placement=\"left\">\n                        <IconButton onClick={locateMe}>\n                            <MyLocationIcon />\n                        </IconButton>\n                    </Tooltip>\n                </Box>\n            </div>\n\n            <div style={{\n                position: 'absolute',\n                right: 0,\n                bottom: 0\n            }}>\n                <Box display=\"flex\" justifyContent=\"flex-end\" mx={1} color=\"text.secondary\">\n                    <Typography style={{ fontSize: 12 }}>\n                        <Link color=\"inherit\" href=\"https://www.openaip.net/\">©openAIP </Link>\n                        <Link color=\"inherit\" href=\"https://openmaptiles.org/\">©OpenMapTiles </Link>\n                        <Link color=\"inherit\" href=\"https://www.openstreetmap.org/about/\">©OpenStreetMap </Link>\n                        <Link color=\"inherit\" href=\"https://www.geo.admin.ch/\">©swisstopo </Link>\n                    </Typography>\n                </Box>\n            </div>\n\n            {showMyLocation && <MyLocation\n                map={map}\n                locateMeCounter={locateMeCounter}\n            />}\n        </div>\n    )\n\n}\n\nexport default Map","import { useState, useEffect } from 'react'\n\nconst buildName = name => 'Line_' + name\n\nconst Line = ({\n    map,\n    name,\n    points,\n    color,\n    opacity,\n    dashed,\n    lineWidth,\n    visible,\n    behindMarker,\n    onClick\n}) => {\n    const [ready, setReady] = useState(false)\n\n    useEffect(() => {\n        if (!map) {\n            return\n        }\n        map.on('load', () => {\n            map.addSource(buildName(name), {\n                'type': 'geojson',\n                'data': {\n                    'type': 'Feature',\n                    'properties': {},\n                    'geometry': {\n                        'type': 'LineString',\n                        'coordinates': points\n                    }\n                }\n            })\n\n            const dashProperty = dashed ? { 'line-dasharray': [1, 3] } : {}\n\n            map.addLayer({\n                'id': buildName(name),\n                'source': buildName(name),\n                'type': 'line',\n                'layout': {\n                    'line-cap': 'round'\n                },\n                'paint': {\n                    'line-color': color,\n                    'line-width': lineWidth ? lineWidth : 3,\n                    'line-opacity': opacity,\n                    ...dashProperty\n                }\n            })\n\n            if (onClick) {\n                map.on('click', buildName(name), e => {\n                    onClick([e.lngLat.lng, e.lngLat.lat])\n                })\n            }\n\n            const markerLayer = 'Marker_' + behindMarker\n            if (map.getLayer(markerLayer)) {\n                map.moveLayer(buildName(name), markerLayer)\n            }\n\n            setReady(true)\n        })\n    }, [map])\n\n    useEffect(() => {\n        if (!ready) {\n            return\n        }\n        map.getSource(buildName(name)).setData({\n            'type': 'Feature',\n            'properties': {},\n            'geometry': {\n                'type': 'LineString',\n                'coordinates': points\n            }\n        })\n    }, [\n        points.length,\n        points.slice(-1)[0][0],\n        points.slice(-1)[0][1],\n        ready\n    ])\n\n    useEffect(() => {\n        if (!ready) {\n            return\n        }\n        map.setLayoutProperty(\n            buildName(name),\n            'visibility',\n            visible ? 'visible' : 'none'\n        )\n    }, [visible, ready])\n\n    return null\n}\n\nexport default Line","import { useState, useEffect } from 'react'\n\nimport Snackbar from '@material-ui/core/Snackbar'\n\nconst buildName = name => 'Marker_' + name\n\nconst Marker = ({\n    map,\n    name,\n    longitude,\n    latitude,\n    onDrag,\n    visible,\n    imagePath,\n    clickText\n}) => {\n    const [displaySnackbar, setDisplaySnackbar] = useState(false)\n    const [ready, setReady] = useState(false)\n\n    useEffect(() => {\n        if (map) {\n            map.loadImage(imagePath, (err, image) => {\n                if (err || !image) {\n                    return\n                }\n\n                map.addImage(buildName(name), image)\n\n                map.addSource(buildName(name), {\n                    'type': 'geojson',\n                    'data': {\n                        'geometry': {\n                            'type': 'Point',\n                            'coordinates': [longitude, latitude]\n                        },\n                        'type': 'Feature'\n                    }\n                })\n\n                map.addLayer({\n                    'id': buildName(name),\n                    'type': 'symbol',\n                    'source': buildName(name),\n                    'layout': {\n                        'icon-image': buildName(name),\n                        'icon-size': 1.0,\n                        'icon-allow-overlap': true\n                    }\n                })\n                if (onDrag) {\n                    const canvas = map.getCanvasContainer()\n\n                    const onMove = e => {\n                        const coords = e.lngLat\n                        canvas.style.cursor = 'grabbing'\n                        onDrag([coords.lng, coords.lat])\n                    }\n\n                    const onUp = e => {\n                        canvas.style.cursor = ''\n                        map.off('mousemove', onMove);\n                        map.off('touchmove', onMove);\n                    }\n\n                    map.on('mouseenter', buildName(name), () => {\n                        canvas.style.cursor = 'move'\n                    })\n\n                    map.on('mouseleave', buildName(name), () => {\n                        canvas.style.cursor = ''\n                    })\n\n                    map.on('mousedown', buildName(name), e => {\n                        e.preventDefault()\n                        canvas.style.cursor = 'grab'\n                        map.on('mousemove', onMove)\n                        map.once('mouseup', onUp)\n                    })\n\n                    map.on('touchstart', buildName(name), e => {\n                        if (e.points.length !== 1) return\n                        e.preventDefault()\n                        map.on('touchmove', onMove)\n                        map.once('touchend', onUp)\n                    })\n                }\n                map.moveLayer(buildName(name))\n\n                if (clickText) {\n                    map.on('click', buildName(name), () => {\n                        setDisplaySnackbar(true)\n                    })\n                }\n\n                setReady(true)\n            })\n        }\n    }, [map])\n\n    useEffect(() => {\n        if (!ready) {\n            return\n        }\n        map.getSource(buildName(name)).setData({\n            'geometry': {\n                'type': 'Point',\n                'coordinates': [longitude, latitude]\n            },\n            'type': 'Feature'\n        })\n    }, [longitude, latitude, ready])\n\n    useEffect(() => {\n        if (!ready) {\n            return\n        }\n        map.setLayoutProperty(\n            buildName(name),\n            'visibility',\n            visible ? 'visible' : 'none'\n        )\n    }, [visible, ready])\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return\n        }\n        setDisplaySnackbar(false)\n    }\n\n    const result = clickText ? <Snackbar\n        open={displaySnackbar}\n        autoHideDuration={1500}\n        onClose={handleClose}\n        message={clickText}\n        anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n        }}\n    /> : null\n\n    return result\n}\n\nexport default Marker","import Line from './Line'\nimport Marker from './Marker'\n\n// lonLatStart: array 2 elements, angles in degrees\n// bearing: number, angle in degrees\n// distance: number, meters\n// returns lonLatEnd, array 2 elements, angles in degrees\nfunction endBearingDistance(lonLatStart, bearing, distance) {\n    var d = distance // m\n    var brng = bearing * Math.PI / 180.0 // rad\n    var φ1 = lonLatStart[1] * Math.PI / 180.0 // rad\n    var λ1 = lonLatStart[0] * Math.PI / 180.0 // rad\n    var R = 6371000 // m\n\n    var latEnd = Math.asin(Math.sin(φ1) * Math.cos(d / R) +\n        Math.cos(φ1) * Math.sin(d / R) * Math.cos(brng))\n    var lonEnd = λ1 + Math.atan2(Math.sin(brng) * Math.sin(d / R) * Math.cos(φ1),\n        Math.cos(d / R) - Math.sin(φ1) * Math.sin(latEnd))\n\n    return [lonEnd * 180.0 / Math.PI, latEnd * 180.0 / Math.PI]\n}\n\nconst buildName = name => 'Projection_' + name\n\nconst Projection = ({ \n    map,\n    name,\n    point,\n    speed,\n    heading,\n    visible,\n    color\n}) => {\n    const times = [15, 30, 60, 120]\n    const labels = [\n        '15 minutes',\n        '30 minutes',\n        '1 hour',\n        '2 hours'\n    ]\n    const points = times.map(value => {\n        return endBearingDistance(point, heading, speed * value * 60)\n    })\n\n    return (\n        <div>\n            <Line\n                map={map}\n                name={buildName(name)}\n                points={[point, ...points, endBearingDistance(points[points.length - 1], heading, 50e3)]}\n                color={color}\n                opacity={1.0}\n                dashed={true}\n                visible={visible}\n                behindMarker={name}\n            />\n\n            {\n                points.map((value, index) => {\n                    return <Marker\n                        map={map}\n                        name={buildName(name) + times[index].toString() + 'min'}\n                        longitude={value[0]}\n                        latitude={value[1]}\n                        visible={visible}\n                        imagePath=\"/point-small.png\"\n                        clickText={'Location in ' + labels[index]}\n                        key={index}\n                    />\n                })\n            }\n        </div>\n    )\n}\n\nexport default Projection","import { useEffect, useState } from 'react'\n\nimport Line from './Line'\nimport Marker from './Marker'\nimport Projection from './Projection'\n\nconst buildName = name => 'MapTrace_' + name\n\nconst findClosest = (points, point) => {\n    const distances = points.map(value => {\n        return (value[0] - point[0]) ** 2 + (value[1] - point[1]) ** 2\n    })\n    return distances.indexOf(Math.min(...distances))\n}\n\nconst MapTrace = ({\n    map,\n    name,\n    points,\n    speed,\n    heading,\n    index,\n    callbackIndex,\n    color,\n    historyVisible,\n    imagePath,\n    loading\n}) => {\n\n    const [dragPoint, setDragPoint] = useState(points[index])\n\n    useEffect(() => {\n        callbackIndex(findClosest(points, dragPoint))\n    }, [dragPoint])\n\n    return (\n        <div>\n            <Line\n                map={map}\n                name={'history_wideclickline_' + buildName(name)}\n                points={points}\n                color={color}\n                opacity={0.0}\n                dashed={false}\n                lineWidth={32}\n                visible={!loading && historyVisible}\n                behindMarker={buildName(name)}\n                onClick={setDragPoint}\n            />\n            <Line\n                map={map}\n                name={'history_under_' + buildName(name)}\n                points={points}\n                color={color}\n                opacity={0.5}\n                dashed={false}\n                visible={!loading && historyVisible}\n                behindMarker={buildName(name)}\n            />\n            <Line\n                map={map}\n                name={'history_over_' + buildName(name)}\n                points={points.slice(0, index + 1)}\n                color={color}\n                opacity={1.0}\n                dashed={false}\n                visible={!loading && historyVisible}\n                behindMarker={buildName(name)}\n            />\n            <Marker\n                map={map}\n                name={buildName(name)}\n                longitude={points[index][0]}\n                latitude={points[index][1]}\n                onDrag={setDragPoint}\n                visible={!loading}\n                imagePath={imagePath}\n            />\n            <Projection\n                map={map}\n                name={buildName(name)}\n                point={points[index]}\n                speed={speed[index]}\n                heading={heading[index]}\n                visible={!loading && (index === points.length - 1)}\n                color={color}\n            />\n        </div>\n    )\n}\n\nexport default MapTrace","import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst getStation = (feature, time) => {\n    return new Promise((resolve, reject) => {\n        const id = feature.properties.id\n        axios.get(`https://ballometer.io/api/weather/station?id=${id}&time=${time}`)\n            .then(res => {\n                resolve({\n                    id: id,\n                    name: feature.properties.name,\n                    temperature: res.data.temperature ? res.data.temperature.toFixed(0) : '--', // deg C\n                    windDirection: res.data.windDirection ? res.data.windDirection : 0.0, // deg\n                    windSpeed: res.data.windSpeed ? res.data.windSpeed.toFixed(0) : '-', // km/h\n                    gustSpeed: res.data.gustSpeed ? res.data.gustSpeed.toFixed(0) : '-',  // km/h\n                    latitude: Number(feature.properties.latitude),\n                    longitude: Number(feature.properties.longitude),\n                })\n            })\n            .catch(err => {\n                reject(err)\n            })\n    })\n}\n\nconst buildName = id => 'Station_' + id\n\nconst buildGeojson = ({\n    name,\n    temperature,\n    windDirection,\n    windSpeed,\n    gustSpeed,\n    latitude,\n    longitude\n}) => {\n    return {\n        type: 'Feature',\n        properties: {\n            name: name,\n            temperature: temperature,\n            windDirection: windDirection,\n            windSpeed: windSpeed,\n            gustSpeed: gustSpeed,\n        },\n        geometry: {\n            type: 'Point',\n            coordinates: [longitude, latitude]\n        }\n    }\n}\n\n\nconst Stations = ({ map }) => {\n\n    const time = Date.now() * 1e-3\n\n    const [renderedFeatures, setRenderedFeatures] = useState([])\n    const [loadedIds, setLoadedIds] = useState([])\n\n    useEffect(() => {\n        if (map) {\n            const handleFeatures = () => {\n                const features = map.queryRenderedFeatures({\n                    layers: ['stations']\n                })\n                setRenderedFeatures(features)\n            }\n            map.on('move', handleFeatures)\n            map.on('zoom', handleFeatures)\n            setInterval(handleFeatures, 1000)\n        }\n    }, [map])\n\n    useEffect(() => {\n        const newIds = []\n        renderedFeatures.forEach(feature => {\n            const id = feature.properties.id\n            if (!loadedIds.includes(id)) {\n                getStation(feature, time).then(data => {\n                    map.addSource(buildName(id), {\n                        type: 'geojson',\n                        data: buildGeojson(data)\n                    })\n                    map.addLayer({\n                        id: buildName(id),\n                        type: 'symbol',\n                        source: buildName(id),\n                        layout: {\n                            \"symbol-placement\": \"point\",\n                            \"icon-image\": \"arrow_blue\",\n                            \"icon-rotate\": [\"get\", \"windDirection\"],\n                            \"text-field\": \"{windSpeed} | {gustSpeed} km/h\\n{name} {temperature} \\u00b0C\",\n                            \"text-font\": [\n                                \"Frutiger Neue Regular\"\n                            ],\n                            \"text-size\": 14,\n                            \"text-justify\": \"center\",\n                            \"text-anchor\": \"top\",\n                            \"text-offset\": [\n                                0.0,\n                                1.0\n                            ]\n                        },\n                        paint: {\n                            \"text-color\": \"#8e44ad\",\n                            \"text-halo-blur\": 0.5,\n                            \"text-halo-width\": 1,\n                            \"text-halo-color\": \"rgba(255, 255, 255, 1)\",\n                            \"text-opacity\": 1.0,\n                            \"icon-opacity\": 1.0\n                        },\n                        minzoom: 9\n                    })\n                    console.log(data)\n                })\n\n                newIds.push(id)\n            }\n        })\n        if (newIds.length > 0) {\n            setLoadedIds([...loadedIds, ...newIds])\n        }\n    }, [renderedFeatures])\n\n    return null\n}\n\nexport default Stations\n","import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport axios from 'axios'\nimport moment from 'moment'\n\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport Box from '@material-ui/core/Box'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nimport Side from './Side'\n\nconst ListItemLink = props => {\n    return <ListItem button component=\"a\" {...props} />\n}\n\nconst ListFlights = ({\n    handleClose,\n    viewportHeight,\n    viewportWidth,\n    dataUrl\n}) => {\n\n    const { username } = useParams()\n\n    const [flights, setFlights] = useState([])\n\n    useEffect(() => {\n        axios.get(dataUrl + '/api/read/listFlights?username=' + username)\n            .then(res => {\n                setFlights(res.data.sort((a, b) => {\n                    return Number(a.flight_id) > Number(b.flight_id) ? -1 : 1\n                }))\n            })\n            .catch(err => {\n                console.log('ListFlights error')\n                console.log(err)\n            })\n    }, [])\n\n    return (\n        <Side\n            title=\"List Flights\"\n            viewportWidth={viewportWidth}\n            viewportHeight={viewportHeight}\n            handleClose={handleClose}\n        >\n            <Box p={1}>\n                {flights.length === 0 && <div>\n                    <Skeleton />\n                    <Skeleton />\n                    <Skeleton />\n                </div>}\n                <List component=\"nav\">\n                    {flights.map((flight, index) => {\n                        return (\n                            <ListItemLink key={index} href={'/' + username + '/' + flight.flight_id}>\n                                <ListItemText>\n                                    {moment(flight.start * 1000).format('D.M.YYYY') +\n                                    ', flight ' + flight.flight_id}\n                                </ListItemText>\n                            </ListItemLink>\n                        )\n                    })}\n                </List>\n            </Box>\n        </Side>\n    )\n}\n\nexport default ListFlights","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport axios from 'axios'\n\nimport timespace from '@mapbox/timespace'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport ShowChartIcon from '@material-ui/icons/ShowChart'\nimport ListIcon from '@material-ui/icons/List'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Box from '@material-ui/core/Box'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport Plots from './Plots'\nimport Chips from './Chips'\nimport Map from './Map'\nimport MapTrace from './MapTrace'\nimport Stations from './Stations'\nimport ListFlights from './ListFlights'\n\nconst dataUrl = 'https://ballometer.io/'\n\nconst getInitialData = (\n    setData,\n    setIndex,\n    setLoading,\n    informUser,\n    username,\n    flightId\n) => {\n\n    const url = dataUrl + '/api/read/points?username=' + username\n        + (flightId ? '&flightId=' + flightId : '')\n\n    axios.get(url)\n        .then(res => {\n            const dataIn = res.data\n\n            if (dataIn.time.length === 0) {\n                setLoading(false)\n                informUser('The flight you are looking for was not found.')\n                return\n            }\n\n            const removeNulls = (values, alternative) => {\n\n                const result = values.map((value, index) => {\n                    if (value) {\n                        return value\n                    }\n                    else {\n                        const next = values.slice(index).find(v => v)\n                        if (next) {\n                            return next\n                        }\n                        else {\n                            const previous = values.slice(0, index).reverse().find(v => v)\n                            if (previous) {\n                                return previous\n                            }\n                            else {\n                                return null\n                            }\n                        }\n                    }\n                })\n\n                if (result.every(e => e === null)) {\n                    return result.map(_ => alternative)\n                }\n                else {\n                    return result\n                }\n            }\n\n            setData({\n                altitude: removeNulls(dataIn.altitude, 0.0),\n                speed: removeNulls(dataIn.speed, 0.0),\n                heading: removeNulls(dataIn.heading, 0.0),\n                climb: removeNulls(dataIn.climb, 0.0),\n                time: dataIn.time,\n                longitude: removeNulls(dataIn.longitude, 8.55301),\n                latitude: removeNulls(dataIn.latitude, 47.35257),\n            })\n            setIndex(dataIn.time.length - 1)\n            setLoading(false)\n        })\n        .catch(err => {\n            setLoading(false)\n            informUser('The flight you are looking for was not found.')\n            console.log(err)\n        })\n}\n\nconst getNow = (setNow, username) => {\n    axios.get(dataUrl + '/api/read/now?username=' + username)\n        .then(res => {\n            setNow(res.data)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n}\n\nconst App = () => {\n\n    const { username, flightId } = useParams()\n\n    const [viewportHeight, setViewportHeight] = useState(window.innerHeight)\n    const [viewportWidth, setViewportWidth] = useState(window.innerWidth)\n\n    const [data, setData] = useState({\n        altitude: [0],\n        speed: [0],\n        heading: [0],\n        climb: [0],\n        time: [Date.now() * 1e-3],\n        longitude: [8.55301],\n        latitude: [47.35257],\n    })\n\n    const points = data.longitude.map((value, index) => {\n        return [value, data.latitude[index]]\n    })\n\n    const [now, setNow] = useState(null)\n\n    const [index, setIndex] = useState(0)\n\n    const [displayPlots, setDisplayPlots] = useState(false)\n    const [displayListFlights, setDisplayListFlights] = useState(false)\n\n    const [nowIntervalId, setNowIntervalId] = useState(null)\n\n    const [loading, setLoading] = useState(true)\n\n    const [displaySnackbar, setDisplaySnackbar] = useState(false)\n    const [snackbarMessage, setSnackbarMessage] = useState('')\n\n    const [map, setMap] = useState(null)\n\n    const handleSnackbarClose = () => setDisplaySnackbar(false)\n\n    const informUser = message => {\n        setSnackbarMessage(message)\n        setDisplaySnackbar(true)\n    }\n\n    const fuzzy = timespace.getFuzzyLocalTimeFromPoint(\n        data.time[index] * 1000, [data.longitude[index], data.latitude[index]])\n    const utcOffset = fuzzy ? fuzzy.utcOffset() : 0.0\n\n    useEffect(() => {\n        const handleResize = () => {\n            setViewportHeight(window.innerHeight)\n            setViewportWidth(document.getElementById('root').clientWidth)\n        }\n        window.addEventListener('resize', handleResize)\n        handleResize()\n        return () => window.removeEventListener('resize', handleResize)\n    }, [])\n\n    useEffect(() => {\n        getInitialData(setData, setIndex, setLoading, informUser, username, flightId)\n    }, [])\n\n    useEffect(() => {\n        if (flightId) {\n            return\n        }\n        const interval = setInterval(() => {\n            getNow(setNow, username)\n        }, 1000)\n        setNowIntervalId(interval)\n        return () => clearInterval(interval)\n    }, [])\n\n    useEffect(() => {\n        if (!now) {\n            return\n        }\n\n        const secondsSince = unixtime => {\n            return (new Date() - new Date(unixtime / 1e-3)) * 1e-3\n        }\n\n        if (nowIntervalId && (secondsSince(now.time) > 3600)) {\n            // Last time someone wrote to the server was more \n            // than 1 hour ago. Let\\'s assume the flight is over.\n            clearInterval(nowIntervalId)\n            return\n        }\n\n        const replaceNull = (field, data, now) => {\n            return now[field] ? now[field] : data[field].slice(-1)[0]\n        }\n\n        const lengthBefore = data.time.length\n\n        setData({\n            altitude: [...data.altitude, replaceNull('altitude', data, now)],\n            speed: [...data.speed, replaceNull('speed', data, now)],\n            heading: [...data.heading, replaceNull('heading', data, now)],\n            climb: [...data.climb, replaceNull('climb', data, now)],\n            time: [...data.time, now.time],\n            longitude: [...data.longitude, replaceNull('longitude', data, now)],\n            latitude: [...data.latitude, replaceNull('latitude', data, now)]\n        })\n\n        if (index === lengthBefore - 1) {\n            setIndex(index => index + 1)\n        }\n    }, [now])\n\n    return (\n        <div>\n            <Map\n                viewportWidth={viewportWidth}\n                viewportHeight={viewportHeight}\n                centerLongitude={data.longitude[index]}\n                centerLatitude={data.latitude[index]}\n                shareMap={setMap}\n            />\n\n            <MapTrace\n                map={map}\n                name=\"balloon\"\n                points={points}\n                speed={data.speed}\n                heading={data.heading}\n                index={index}\n                callbackIndex={setIndex}\n                color=\"#3498db\"\n                historyVisible={true}\n                imagePath=\"/balloon.png\"\n                loading={loading}\n            />\n\n\n            <Stations map={map} />\n\n            <Chips\n                speed={data.speed[index]}\n                heading={data.heading[index]}\n                altitude={data.altitude[index]}\n                climb={data.climb[index]}\n                time={data.time[index]}\n                utcOffset={utcOffset}\n            />\n\n            <div style={{\n                position: 'absolute',\n                left: 0,\n                top: 0,\n                padding: 10\n            }}>\n                <Box display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\n                    <Box display=\"flex\">\n                        <Tooltip title=\"Plots\" placement=\"right\">\n                            <IconButton onClick={() => {\n                                setDisplayPlots(true)\n                            }}>\n                                <ShowChartIcon />\n                            </IconButton>\n                        </Tooltip>\n                        {displayPlots && <CircularProgress size={50} m={1} />}\n                    </Box>\n                    <Tooltip title=\"List Flights\" placement=\"right\">\n                        <IconButton onClick={() => setDisplayListFlights(true)}>\n                            <ListIcon />\n                        </IconButton>\n                    </Tooltip>\n                </Box>\n            </div>\n\n            {displayPlots &&\n                <Plots\n                    handleClose={() => setDisplayPlots(false)}\n                    viewportHeight={viewportHeight}\n                    viewportWidth={viewportWidth}\n                    data={data}\n                    styles={[\n                        {\n                            id: 'altitude',\n                            title: 'Altitude (m)',\n                            valueSuffix: ' m',\n                            valueDecimals: 0,\n                            color: '#1250b0',\n                            scaling: 1.0\n                        },\n                        {\n                            id: 'speed',\n                            title: 'Speed (km/h)',\n                            valueSuffix: ' km/h',\n                            valueDecimals: 1,\n                            color: '#a352cc',\n                            scaling: 3.6\n                        },\n                        {\n                            id: 'heading',\n                            title: 'Heading (°)',\n                            valueSuffix: '°',\n                            valueDecimals: 0,\n                            color: '#19730e',\n                            scaling: 1.0\n                        },\n                        {\n                            id: 'climb',\n                            title: 'Climb (m/s)',\n                            valueSuffix: ' m/s',\n                            valueDecimals: 1,\n                            color: '#f2cc0c',\n                            scaling: 1.0\n                        }\n                    ]}\n                    index={index}\n                    callbackIndex={setIndex}\n                    utcOffset={utcOffset}\n                />\n            }\n\n            {displayListFlights &&\n                <ListFlights\n                    handleClose={() => setDisplayListFlights(false)}\n                    viewportHeight={viewportHeight}\n                    viewportWidth={viewportWidth}\n                    dataUrl={dataUrl}\n                />\n            }\n\n            <Snackbar\n                open={displaySnackbar}\n                autoHideDuration={6000}\n                onClose={handleSnackbarClose}\n                message={snackbarMessage}\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}\n            />\n\n            <Backdrop open={loading} style={{\n                zIndex: 1000,\n                color: '#fff'\n            }}>\n                <CircularProgress color=\"inherit\" />\n            </Backdrop>\n        </div>\n    )\n}\n\nexport default App\n\n","import Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\n\nimport './Home.css'\n\nconst Home = () => {\n    return (\n        <Container style={{ maxWidth: '8in', padding: 0 }}>\n            <Paper>\n                <Body />\n            </Paper>\n        </Container>\n    )\n}\n\nconst Paragraph = ({ children }) => {\n    return (\n        <Box px={2} py={1}><Typography>{children}</Typography></Box>\n    )\n}\n\nconst Caption = ({ children }) => {\n    return (\n        <Box px={4} pb={5}><Typography><i>{children}</i></Typography></Box>\n    )\n}\n\nconst Subtitle = ({ children }) => {\n    return (\n        <Box px={2} pb={1}><Typography variant=\"h4\">{children}</Typography></Box>\n    )\n}\n\nconst Body = () => (\n    <div>\n        <img src=\"/home/titlebild.jpg\" alt=\"Balloon Over Snow\" width=\"100%\" />\n        <Paragraph>\n            The Ballometer is a sensor box for hot air balloons.\n            It allows pilots to measure and log flight data such as GPS position and velocity, barometric altitude and vertical speed, relative humidity and more.\n            The measurements are stored on the device and if you connect it to the internet via a mobile phone wifi hot spot, it will send the measurements to <a href=\"https://www.ballometer.io\">www.ballometer.io</a>.\n            Like this your friends can track you in real time.\n            The flight measurements are archived online and ordered by date.\n            This allows you to share memories of old flight with others in the future.\n        </Paragraph>\n\n        <Paragraph>\n            I started working on this electronics project because I wanted to understand better how environmental parameters such as air humidity or solar irradiation influence fuel consumption.\n            In the ballooning community people make strong statements about this but I could not find any studies.\n            I am interested in quantifying the different effects such that maybe one can build more efficient hot air balloons in the future.\n            The Ballometer might help providing the relevant data for this.\n        </Paragraph>\n\n        <img src=\"/home/overview-sketch.png\" width=\"400px\" alt=\"Overview Sketch\" />\n\n        <Caption>\n            The Ballometer has a GPS module to log position and horizontal speed.\n            A barometric pressure sensor allows to measure the altitude and vertical speed.\n            The ambient air temperature and relative humidity are measured by a further sensor.\n            A solar irradiation sensor measures how much power the sun provides.\n            Since the sensitivity of this sensor depends on the incidence angle, a compass measures the box orientation.\n            The compass comes together with an acceleration sensor which might capture the changes in vertical velocity.\n            To know whether the burner is on or off, a microphone measures the sound volume.\n        </Caption>\n\n        <img src=\"/home/oliver.jpg\" width=\"200px\" alt=\"Oliver Wipfli\" style={{ borderRadius: '50%' }} />\n\n        <Caption>\n            My name is Oliver Wipfli and I live in Zürich, Switzerland.\n            I studied physics and am currently doing a PhD in the same field.\n            I became a hot air balloon pilot in 2011 and since then flying balloons is my hobby.\n        </Caption>\n\n        <Paragraph>\n            A small display and a few buttons allow the pilot to connect the Ballometer to a wifi hot spot of a mobile phone.\n            The measurements are presented on a website that can be opened by any device in the same wifi network.\n            All you have to do to see the data is open up the website in a browser and no installation of further apps on a tablet or mobile phone is required.\n            When mobile data is available, the Ballometer will stream the measurements to www.ballometer.io and others can track your flight in real time.\n        </Paragraph>\n\n        <img src=\"/home/wifi-sketch.png\" width=\"500px\" alt=\"Wifi Sketch\" />\n\n        <Caption>\n            To connect the Ballometer first create a wifi hot spot with your mobile phone (A).\n            Then enter the wifi password on the Ballometer with the buttons (B).\n            The password will be stored permanently.\n            If the Ballometer is connected to the wifi network, it displays its local IP address (C).\n            Type this IP in a browser’s address bar of a tablet or mobile phone which is in the same wifi network and you will get to the local, offline website hosted by the Ballometer (D).\n            If there is an internet connection, the measurements are sent to <a href=\"https://www.ballometer.io\">www.ballometer.io</a> and the chase crew can track the balloon in real time (E).\n        </Caption>\n\n        <Paragraph>\n            The Ballometer box is small enough to be mounted on a burner support by a Velcro strap.\n            The housing has to be big enough to hold a 10000 mAh power bank which has typically the size of a large mobile phone.\n        </Paragraph>\n\n        <img src=\"/home/size-and-mounting.png\" width=\"350px\" alt=\"Size and Mounting\" />\n\n        <Paragraph>\n            For navigation purposes the Ballometer website contains a map with the current balloon position, projected direction, and a flight track.\n            The map covers the entire world and is based on roughly 55 gigabytes of OpenStreetMap data which is stored in the Ballometer.\n        </Paragraph>\n\n        <img src=\"/home/map-screenshot.jpg\" width=\"100%\" alt=\"Map Screenshot\" />\n\n        <Caption>\n            The online map shows the flight track and some live measurements which are useful for the chase crew to retrieve the balloon.\n            The Ballometer hosts the same map and the pilot can access it over wifi even when there is no internet connection.\n            Map data from OpenStreetMap for the entire world will be saved on the Ballometer, which requires roughly 55 gigabytes of storage.\n        </Caption>\n\n        <img src=\"/home/burner.jpg\" width=\"300px\" alt=\"Burner\" />\n\n        <Caption>\n            A microphone measures the sound volume to record burner activity.\n        </Caption>\n\n        <Paragraph>\n            All measurements are stored locally on the Ballometer and the measurement history is available to the pilot even without an internet connection.\n            The online website also stores the measurements and presents them for future use ordered by flights.\n            All data sent to the website is open for everyone without access restrictions - pilots can however delete flights from the website.\n        </Paragraph>\n\n        <img src=\"/home/charts-screenshot.PNG\" width=\"100%\" alt=\"Charts Screenshot\" />\n\n        <Caption>\n            A website presents the measurement history in charts where the horizontal axis is time.\n            Here shown is the local version that the pilot can access over wifi even without an internet connection.\n            A similar website is available online.\n        </Caption>\n\n        <img src=\"/home/morning-flight.jpg\" width=\"350px\" alt=\"Morning above wheat field\" />\n\n        <Caption>\n            Morning light shortly after take-off for a test flight on 11.08.2019.\n        </Caption>\n\n\n        <Subtitle>Hardware Specifications</Subtitle>\n\n        <Paragraph>\n            <ul>\n                <li>\tGPS: UBlox Neo 7M, GNSS engine for GPS/QZSS, GLONASS.</li>\n                <li>\tBarometer: Bosch BMP280, absolute accuracy ±1 hPa, relative accuracy ±0.12 hPa (equivalent to 1 m), range 300 hPa to 1100 hPa (9000 m to -500 m AMSL).</li>\n                <li>\tAir temperature and humidity: Sensirion SHT31-D, accuracy ±0.3 deg C, ±2 % RH, temperature range -40 to 125 deg C</li>\n                <li>\tSolar irradiation: AMS TSL2591, range 188 uLux to 88000 Lux</li>\n                <li>\tAccelerometer and compass: ST LSM303AGR, acceleration sensitivity 10 mm/s2</li>\n                <li>\tMicrophone: Mini USB Microphone</li>\n                <li>\tSingle Board Computer: Raspberry Pi Model 3 B+</li>\n                <li>\tPower Bank: 10000 mAh, enough for 5 hours of recording</li>\n            </ul>\n        </Paragraph>\n\n        <Subtitle>Software Technologies</Subtitle>\n\n        <Paragraph>\n            The operating system on the raspberry pi is raspbian light.\n            Scripts written in python read out the sensors over serial and I2C and store the measurements in an influxdb time-series database.\n            Adafruit libraries facilitate the communication with the sensors.\n            Grafana presents the measurement history on a website and maptiler-gl delivers OpenStreetMap data.\n            The web frontend is written in react and a node server runs in the backend.\n            Ansible helps documenting and automating the configuration of the raspberry pi and also the online server.\n        </Paragraph>\n\n        <img src=\"/home/inflation.jpg\" width=\"350px\" alt=\"Envelope inflation\" />\n\n        <Caption>\n            Inflation of the envelope on another test flight on the morning of 24.08.2019.\n        </Caption>\n\n        <Subtitle>Prototypes</Subtitle>\n\n        <Paragraph>\n            The idea of building something like the Ballometer was in my head for a long time.\n            I remember that I wanted to make a website already in 2015 for logging a phone’s GPS data during a hot air balloon flight but never got very far with writing an android app.\n            Later a friend of mine got an isolated envelope and we started discussing about fuel consumption.\n            Especially during the night this balloon uses much less fuel than conventional ones.\n            Many pilots think that this is related to the increased relative humidity during night, but I think it has rather to do with missing solar irradiation.\n        </Paragraph>\n\n        <img src=\"/home/panorama.jpg\" width=\"450px\" alt=\"Panorama of the alps\" />\n\n        <Caption>\n            Good panorama view of the alps during a test flight on 01.06.2019.\n        </Caption>\n\n\n        <Paragraph>\n            To test our theories, I built a little logging system in 2018 based on an Arduino that would record air humidity and other environmental parameters on an SD card.\n            While this system worked in principle it was still a bit cumbersome to handle since one had to copy the files over to a PC by hand after every flight.\n            Then, at the beginning of 2019, I thought it would be better to use an ESP8266, which is a wifi enabled microcontroller, such that one could look at the data in real time.\n            I made a custom printed circuit board at EasyEDA and wrote quite some code for this but everything had to be written from scratch since it is a rather low level architecture.\n            Then sometime in summer 2019 I decided to go for a raspberry pi and use a full Linux system.\n            Now I was all of a sudden able to use databases like influxdb, write standard webservers in JavaScript and have my sensor logging scripts done in python.\n            This was a big relief and made it also possible to serve a map locally without an internet connection.\n        </Paragraph>\n\n        <img src=\"/home/mdf-prototype.jpg\" width=\"550px\" alt=\"Prototype in a MDF box\" />\n        <Caption>\n            The first prototype of the Ballometer based on a raspberry pi was built in July 2019.\n            The housing was made of a laser-cut wooden MDF box and a transparent acrylic panel.\n        </Caption>\n\n        <Paragraph>\n            In autumn 2019 I started the website <a href=\"https://www.ballometer.io\">www.ballometer.io</a> and implemented a flight tracker.\n            Most of the sensors worked immediately but the solar irradiation sensor still requires some work as the sensitivity depends on the angle between the sun and the sensor.\n            I plan to compensate this by measuring the orientation of the sensor with a digital compass.\n        </Paragraph>\n\n        <img src=\"/home/wifi-prototype.jpg\" width=\"450px\" alt=\"LDC screen prototype for wifi\" />\n        <Caption>\n            Connecting the raspberry pi to a wifi network using an LCD display and a few buttons was implemented and tested in September 2019.\n        </Caption>\n\n        <Paragraph>\n            To make a plastic box I started experimenting with 3D printing in November 2019.\n            Although this technique is a bit slow, it is inexpensive and well suited for making a custom enclosure.\n        </Paragraph>\n\n        <img src=\"/home/3d-prototype.jpg\" width=\"550px\" alt=\"Prototype of 3D printing\" />\n        <Caption>\n            To come away from wooden boxes a 3D printer (left image) was used to make a small test box out of PLA plastic in November 2019.\n        </Caption>\n\n        <Subtitle>\n            Schedule\n        </Subtitle>\n\n        <Paragraph>\n            I would like to build a few Ballometers and sell them to other hot air balloon pilots.\n            They will get a username for the ballometer.io website which is based on their family name, like for example <a href=\"https://ballometer.io/wipfli\">ballometer.io/wipfli</a>.\n            I am interested in collecting like this flight data under different conditions.\n            In the future this data can be used to model the influence of the observed environmental parameters on fuel consumption.\n        </Paragraph>\n\n        <Paragraph>\n            The schedule looks like this:\n            <ul>\n                <li>January 2020: Pilots can reserve a Ballometer.</li>\n                <li>February 2020: Order components.</li>\n                <li>March 2020: Design a custom PCB for the sensors, the buttons and the display, and make a 3D printed box. </li>\n                <li>July 2020: Finish the software implementation.</li>\n                <li>August 2020: Build and ship the devices to the pilots.</li>\n            </ul>\n        </Paragraph>\n\n        <Subtitle>\n            Budget\n        </Subtitle>\n\n\n        <Paragraph>\n            The Ballometer is based on inexpensive and mass produced components and AliExpress sells most of them.\n            The official Raspberry Pi reseller for Switzerland says that the Model 3B+ will only be available in June 2020, but maybe I can receive some before this date from another distributor.\n        </Paragraph>\n\n        <Paragraph>\n            The following table gives an estimate of the material cost:\n        </Paragraph>\n\n        <Box p={5}>\n            <TableContainer component={Paper}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Component</TableCell>\n                            <TableCell>Lead Time</TableCell>\n                            <TableCell>Price (CHF)</TableCell>\n                        </TableRow>\n                    </TableHead>\n\n                    <TableBody>\n                        <TableRow><TableCell>Raspberry Pi Model 3 B+</TableCell><TableCell>09.06.2020</TableCell><TableCell>40</TableCell></TableRow>\n                        <TableRow><TableCell>SHT 31 Temperature Sensor</TableCell><TableCell>60 days</TableCell><TableCell>3</TableCell></TableRow>\n                        <TableRow><TableCell>LSM303 Compass</TableCell><TableCell>60 days</TableCell><TableCell>3</TableCell></TableRow>\n                        <TableRow><TableCell>TSL2591 Solar Irradiation Sensor</TableCell><TableCell>60 days</TableCell><TableCell>5</TableCell></TableRow>\n                        <TableRow><TableCell>BMP280 Pressure Sensor</TableCell><TableCell>60 days</TableCell><TableCell>1</TableCell></TableRow>\n                        <TableRow><TableCell>Mini USB Microphone</TableCell><TableCell>60 days</TableCell><TableCell>2</TableCell></TableRow>\n                        <TableRow><TableCell>GPS UBlox Neo 7M</TableCell><TableCell>60 days</TableCell><TableCell>12</TableCell></TableRow>\n                        <TableRow><TableCell>GPS Antenna</TableCell><TableCell>60 days</TableCell><TableCell>2</TableCell></TableRow>\n                        <TableRow><TableCell>Buttons</TableCell><TableCell>60 days</TableCell><TableCell>1</TableCell></TableRow>\n                        <TableRow><TableCell>LCD Display</TableCell><TableCell>60 days</TableCell><TableCell>4</TableCell></TableRow>\n                        <TableRow><TableCell>SD Card 64 GB</TableCell><TableCell>60 days</TableCell><TableCell>15</TableCell></TableRow>\n                        <TableRow><TableCell>Power Bank 10000 mAh</TableCell><TableCell>14 days</TableCell><TableCell>30</TableCell></TableRow>\n                        <TableRow><TableCell>3D Printed Box</TableCell><TableCell>14 days</TableCell><TableCell>10</TableCell></TableRow>\n                        <TableRow><TableCell>Velcro</TableCell><TableCell>14 days</TableCell><TableCell>2</TableCell></TableRow>\n                        <TableRow><TableCell>Printed Circuit Board</TableCell><TableCell>14 days</TableCell><TableCell>3</TableCell></TableRow>\n                        <TableRow><TableCell><b>Total</b></TableCell><TableCell></TableCell><TableCell><b>133</b></TableCell> </TableRow>\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </Box>\n\n        <Paragraph>\n            There will be a fee for the labor needed for assembly which is roughly CHF 50.\n            Shipping is likely to cost another CHF 20.\n            This will lead to an overall cost around CHF 200.\n        </Paragraph>\n\n        <Subtitle>\n            Outlook\n        </Subtitle>\n\n        <Paragraph>\n            Hot air balloons seem to be so simple systems that I belief it should be possible to model them with a high degree of precision.\n            The Ballometer captures the main physical factors that determine the dynamics of a hot air balloon and it paves the way to a quantitative model of fuel consumption based on environmental parameters.\n            I hope that a better understanding will lead to more efficient hot air balloons in the future.\n        </Paragraph>\n\n        <img src=\"/home/model-sketch.PNG\" width=\"650px\" alt=\"Equations and envelope sketch\" />\n        <Caption>\n            A small set of equations determines the dynamics of a hot air balloon.\n            Now measurement data is needed to test how strongly fuel consumption is influenced by the individual parameters.\n        </Caption>\n\n        <Paragraph>\n            Besides these scientific ambitions I also just want to make pilots able to share their flights with friends. ]\n            I am sure that having the flight history available online will invoke many good memories when looking at the tracks at a later point in time.\n        </Paragraph>\n\n        <img src=\"/home/landing.jpg\" width=\"450px\" alt=\"Balloon has landed on a road\" />\n        <Caption>\n            Safe landing after the test flight on 24.08.2019.\n        </Caption>\n\n\n        <Subtitle>\n            Contact\n        </Subtitle>\n\n        <Paragraph>\n            If you have questions about the Ballometer feel free to contact me via the form on my ballooning website <a href=\"https://leichteralsluft.ch/#contact\">https://leichteralsluft.ch/#contact</a>.\n        </Paragraph>\n    </div>\n)\n\nexport default Home","import React, { useState, useEffect } from 'react'\n\nimport Map from './Map'\nimport Stations from './Stations'\n\nconst LiveMap = () => {\n\n    const [viewportHeight, setViewportHeight] = useState(window.innerHeight)\n    const [viewportWidth, setViewportWidth] = useState(window.innerWidth)\n    const [map, setMap] = useState(null)\n\n    useEffect(() => {\n        const handleResize = () => {\n            setViewportHeight(window.innerHeight)\n            setViewportWidth(document.getElementById('root').clientWidth)\n        }\n        window.addEventListener('resize', handleResize)\n        handleResize()\n        return () => window.removeEventListener('resize', handleResize)\n    }, [])\n\n    return (\n        <div>\n            <Map\n                viewportWidth={viewportWidth}\n                viewportHeight={viewportHeight}\n                centerLongitude={8.55301}\n                centerLatitude={47.35257}\n                shareMap={setMap}\n            />\n\n            <Stations map={map} />\n\n        </div>\n    )\n}\n\nexport default LiveMap\n","import {\n    BrowserRouter as Router,\n    Switch,\n    Route\n} from 'react-router-dom'\n\nimport App from './App'\nimport Home from './Home'\nimport LiveMap from './LiveMap'\n\nexport default function Main() {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/map\">\n                    <LiveMap />\n                </Route>\n                <Route path=\"/:username/:flightId\">\n                    <App />\n                </Route>\n                <Route path=\"/:username\">\n                    <App />\n                </Route>\n                <Route path=\"/\">\n                    <Home />\n                </Route>\n            </Switch>\n        </Router>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Main from './Main';\n\nReactDOM.render(\n  <Main />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}